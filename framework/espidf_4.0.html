

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ESP-IDF v4.0 &mdash; OS-Q 0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://docs.OS-Q.com/framework/espidf_4.0.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
 
<link rel="stylesheet" href="../_static/css/extra.css" type="text/css" />
<script src="../_static/js/bootstrap.min.js"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7398081349378542" crossorigin="anonymous"></script>
<!-- <script src="http://dl.platformio.org/misc/abplus.js"></script> -->

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OS-Q
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">开源工具</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arduino/ide.html">Arduino</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pio/index.html">PlatformIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开源硬件</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Pi/index.html">Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arduino/index.html">Arduino</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开源框架</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">开发框架</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lan/index.html">编程语言</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开源模板</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../T/index.html">工程模板</a></li>
<li class="toctree-l1"><a class="reference internal" href="../T/index.html#id3">项目模板</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开源方案</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../S/index.html">技术方案</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">常见问题</a></li>
</ul>

            
          
<p style="margin-top: 15px;">
    <!-- Docs: Side Navigation -->
    <ins class="adsbygoogle ads"
        style="display:block;background-color: transparent;"
        data-ad-client="ca-pub-7398081349378542"
        data-ad-slot="2509136660"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</p>

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OS-Q</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ESP-IDF v4.0</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/OS-Q/Docs/blob/master/source/framework/espidf_4.0.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="esp-idf-v4-0">
<h1>ESP-IDF v4.0<a class="headerlink" href="#esp-idf-v4-0" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Starting with ESP-IDF v4.0, a CMake-based build system is used. Different
configuration steps are required for ESP-IDF v3.x due to a legacy build system
based on GNU Make.</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id4">安装配置</a></p></li>
</ul>
</div>
<p>Each release of <a class="reference internal" href="../pio/P511.html#p511"><span class="std std-ref">Espressif32</span></a> platform uses a specific version of ESP-IDF.
The latest version of the platform only supports the latest stable version of the
framework.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>ESP-IDF v4.0 projects are not backwards-compatible with ESP-IDF v3.x projects in
terms of project configuration process.</p>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id4">安装配置</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#project-structure" id="id5">Project Structure</a></p></li>
<li><p><a class="reference internal" href="#esp-idf-components" id="id6">ESP-IDF components</a></p></li>
<li><p><a class="reference internal" href="#ulp-coprocessor-programming" id="id7">ULP coprocessor programming</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id8">Limitations</a></p></li>
</ul>
</div>
<p>The general project configuration (default optimization level, bootloader configuration
partition tables, etc) is set in a single file called <code class="docutils literal notranslate"><span class="pre">sdkconfig</span></code> in the root folder
of the project. This configuration file can be modified via a special target called
<code class="docutils literal notranslate"><span class="pre">menuconfig</span></code> (PlatformIO v4.3.0 greater is required):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pio run -t menuconfig
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>ESP-IDF requires some extra tools to be installed in your system in order to build
firmware for supported chips. Most of these tools are available in PlatformIO
ecosystem as standalone packages, but in order to use configuration tool called
<code class="docutils literal notranslate"><span class="pre">menuconfig</span></code> several additional packages need to be installed on Linux-based
systems:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>libncurses5-dev flex bison
</pre></div>
</div>
<p>More details about required packages can be found in the official ESP-IDF documentation -
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/get-started/linux-setup.html">Standard Setup of Toolchain for Linux</a>.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If menuconfig is not showed properly in the integrated VS Code terminal try changing
the default terminal shell by clicking the dropdown menu on the top-right of the
terminal panel and selectiing the <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">Default</span> <span class="pre">Shell</span></code> option.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>In case the <code class="docutils literal notranslate"><span class="pre">UP</span></code> and <code class="docutils literal notranslate"><span class="pre">DOWN</span></code> arrows don’t work in menuconfig try using the <code class="docutils literal notranslate"><span class="pre">J</span></code>
key to move the cursor down and <code class="docutils literal notranslate"><span class="pre">K</span></code> to move the cursor up. Another option is to use
<code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">+</span></code> keys on the numeric keypad.</p>
</div>
<div class="section" id="project-structure">
<h3><a class="toc-backref" href="#id5">Project Structure</a><a class="headerlink" href="#project-structure" title="Permalink to this headline">¶</a></h3>
<p>The ESP-IDF framework requires an unusual project structure because most of the framework
configuration is performed by the native for the ESP-IDF build system called <code class="docutils literal notranslate"><span class="pre">CMake</span></code>.</p>
<p>A typical PlatformIO project for the ESP-IDF framework must have the following structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>project_dir
├── include
├── src
│    ├── CMakeLists.txt
│    └── main.c
├── CMakeLists.txt
└── platformio.ini

.. code-block:: ini

    [platformio]
    src_dir = main

    [env:esp32dev]
    platform = espressif32
    framework = espidf
    board = esp32dev
</pre></div>
</div>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># The following lines of boilerplate have to be in your project&#39;s CMakeLists</span>
<span class="c"># in this exact order for cmake to work correctly</span>
<span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span> <span class="s">3.16.0</span><span class="p">)</span>

<span class="nb">include</span><span class="p">(</span><span class="o">$ENV{</span><span class="nv">IDF_PATH</span><span class="o">}</span><span class="s">/tools/cmake/project.cmake</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">project-name</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">idf_component_register</span><span class="p">(</span><span class="s">SRCS</span> <span class="s2">&quot;foo.c&quot;</span> <span class="s2">&quot;bar.c&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The files specified using <code class="docutils literal notranslate"><span class="pre">idf_component_register</span></code> are used <strong>ONLY</strong> for generating
build configurations, but it’s highly recommended to specify all application source
files in order to keep the project compatible with the usual ESP-IDF workflow.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default PlatformIO expects source files to be located in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder. At
the same time, the default location for source files within the ESP-IDF build system
is a special folder with the name <code class="docutils literal notranslate"><span class="pre">main</span></code>. Renaming the main component may require
users to manually specify additional dependencies:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">idf_component_register</span><span class="p">(</span><span class="s">SRCS</span> <span class="s2">&quot;main.c&quot;</span> <span class="s">REQUIRES</span> <span class="s">idf::mbedtls</span><span class="p">)</span>
</pre></div>
</div>
<p>More details in the official ESP-IDF documentation -
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/build-system.html?highlight=rename#renaming-main-component">Renaming main component</a>.</p>
</div>
<p>Due to the current limitations of CMake file-based API, there is no way of generating
build configuration for source files written in various programming languages if they
are not specified in  <code class="docutils literal notranslate"><span class="pre">idf_component_register</span></code> command. If your project contains
libraries written in languages that differ from the language used for the main
application you need to create an empty file with the desired extension (e.g. <code class="docutils literal notranslate"><span class="pre">*.cpp</span></code>
for <code class="docutils literal notranslate"><span class="pre">C++</span></code>) in order to force CMake generate build configuration for this language.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Build configuration generated for source files specified in <code class="docutils literal notranslate"><span class="pre">idf_component_register</span></code>
is also used as the base build environment for project sources (including libraries).</p>
</div>
</div>
<div class="section" id="esp-idf-components">
<h3><a class="toc-backref" href="#id6">ESP-IDF components</a><a class="headerlink" href="#esp-idf-components" title="Permalink to this headline">¶</a></h3>
<p>ESP-IDF modules as modular pieces of standalone code might be useful for structuring
reusable code or including third party components that aren’t part of ESP-IDF.</p>
<p>These components contain either a single <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file which controls the
build process of the component and its integration into the overall project. An
optional <code class="docutils literal notranslate"><span class="pre">Kconfig</span></code> file defines the component configuration options that can be set
via <code class="docutils literal notranslate"><span class="pre">menuconfig</span></code>. Some components may also include <code class="docutils literal notranslate"><span class="pre">Kconfig.projbuild</span></code> and
<code class="docutils literal notranslate"><span class="pre">project_include.cmake</span></code> files, which are special files for overriding parts of the
project. All valid components will be compiled as static libraries and linked to the
final firmware. There are two possible ways of adding extra components to PlatformIO
project:</p>
<ul class="simple">
<li><p>By adding a new component to an optional folder called <code class="docutils literal notranslate"><span class="pre">components</span></code> in the root of
your project. This folder will be automatically scanned for valid components.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">EXTRA_COMPONENT_DIRS</span></code> option in the root <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file. This option
represents a list of extra directories to search for components.</p></li>
</ul>
<p>An example of specifying <code class="docutils literal notranslate"><span class="pre">esp-aws-iot</span></code> as an extra component:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># The following lines of boilerplate have to be in your project&#39;s CMakeLists</span>
<span class="c"># in this exact order for cmake to work correctly</span>
<span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span> <span class="s">3.16</span><span class="p">)</span>

<span class="nb">include</span><span class="p">(</span><span class="o">$ENV{</span><span class="nv">IDF_PATH</span><span class="o">}</span><span class="s">/tools/cmake/project.cmake</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="s">APPEND</span> <span class="s">EXTRA_COMPONENT_DIRS</span> <span class="s">esp-aws-iot</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">subscribe_publish</span><span class="p">)</span>
</pre></div>
</div>
<p>Since the build may not work correctly if the full path to sources is greater than 250
characters (see <code class="docutils literal notranslate"><span class="pre">CMAKE_OBJECT_PATH_MAX</span></code>) it might be a good idea to keep modules close
to the project files.</p>
</div>
<div class="section" id="ulp-coprocessor-programming">
<h3><a class="toc-backref" href="#id7">ULP coprocessor programming</a><a class="headerlink" href="#ulp-coprocessor-programming" title="Permalink to this headline">¶</a></h3>
<p>If you want to take measurements using ADC, internal temperature sensor or external
I2C sensors, while the main processors are in deep sleep mode you need to use ULP
coprocessor. At the moment ULP can be used only with the <a class="reference internal" href="espidf.html#espidf"><span class="std std-ref">ESP-IDF</span></a>.</p>
<p>All ULP code, usually written in assembly in files with <code class="docutils literal notranslate"><span class="pre">.S</span></code> extension,
must be placed into a separate directory with the name <code class="docutils literal notranslate"><span class="pre">ulp</span></code> in the root folder
of your project. So your project structure should look like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>project_dir
├── include
├── src
│    ├── CMakeLists.txt
│    └── main.c
├── ulp
│    └── ulp_code.S
├── CMakeLists.txt
└── platformio.ini
</pre></div>
</div>
<p>Since PlatformIO uses the code model generated by CMake it’s mandatory to specify ULP
source files in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> as well. An example of typical <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>
for ULP:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">idf_component_register</span><span class="p">(</span><span class="s">SRCS</span> <span class="s2">&quot;ulp_adc_example_main.c&quot;</span><span class="p">)</span>
<span class="c">#</span>
<span class="c"># ULP support additions to component CMakeLists.txt.</span>
<span class="c">#</span>
<span class="c"># 1. The ULP app name must be &quot;ulp_main&quot;</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ulp_app_name</span> <span class="s">ulp_main</span><span class="p">)</span>
<span class="c">#</span>
<span class="c"># 2. Specify all assembly source files.</span>
<span class="c">#    Paths are relative because ULP files are placed into a special directory &quot;ulp&quot;</span>
<span class="c">#    in the root of the project</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ulp_s_sources</span> <span class="s2">&quot;../ulp/adc.S&quot;</span><span class="p">)</span>
<span class="c">#</span>
<span class="c"># 3. List all the component source files which include automatically</span>
<span class="c">#    generated ULP export file, ${ulp_app_name}.h:</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ulp_exp_dep_srcs</span> <span class="s2">&quot;ulp_adc_example_main.c&quot;</span><span class="p">)</span>
<span class="c">#</span>
<span class="c"># 4. Call function to build ULP binary and embed in project using the argument</span>
<span class="c">#    values above.</span>
<span class="nb">ulp_embed_binary</span><span class="p">(</span><span class="o">${</span><span class="nv">ulp_app_name</span><span class="o">}</span> <span class="o">${</span><span class="nv">ulp_s_sources</span><span class="o">}</span> <span class="o">${</span><span class="nv">ulp_exp_dep_srcs</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
<p>See full examples with ULP coprocessor programming:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/platformio/platform-espressif32/tree/develop/examples/espidf-ulp-adc">https://github.com/platformio/platform-espressif32/tree/develop/examples/espidf-ulp-adc</a></p></li>
<li><p><a class="reference external" href="https://github.com/platformio/platform-espressif32/tree/develop/examples/espidf-ulp-pulse">https://github.com/platformio/platform-espressif32/tree/develop/examples/espidf-ulp-pulse</a></p></li>
</ul>
<p>More details are located in the official ESP-IDF documentation -
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/api-guides/ulp.html#accessing-ulp-program-variable">ULP coprocessor programming</a>.</p>
</div>
<div class="section" id="limitations">
<h3><a class="toc-backref" href="#id8">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>At the moment several limitations are present:</p>
<ul>
<li><p>No whitespace characters allowed in project paths. This limitation is imposed by the
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html?highlight=spaces#step-2-get-esp-idf">native ESP-IDF build system</a>.
This affects users that have a whitespace in their username or added a whitespace to
the project name. As a workaround. For example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[platformio]</span>
<span class="na">core_dir</span> <span class="o">=</span> <span class="s">C:/.platformio</span>

<span class="k">[env:esp32dev]</span>
<span class="na">platform</span> <span class="o">=</span> <span class="s">espressif32</span>
<span class="na">framework</span> <span class="o">=</span> <span class="s">espidf</span>
<span class="na">board</span> <span class="o">=</span> <span class="s">esp32dev</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">src_filter</span></code> option cannot be used. It’s done to preserve compatibility with
existing ESP-IDF projects. List of source files is specified in the project
<code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">

    <p>
        &#169; Copyright 2021, www.OS-Q.com.

    </p>
<p>
  <!-- Docs: Page bottom -->
  <ins class="adsbygoogle ads"
      style="display:block;background-color: transparent;"
      data-ad-client="ca-pub-7398081349378542"
      data-ad-slot="1206527817"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</p>

  </div>
 
<script>
  var navBarHTML = '\
<div>\
  <div class="container container-fluid">\
    <div class="navbar-header">\
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navBarCollapse" aria-expanded="false">\
        <span class="sr-only">Toggle navigation</span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
        <span class="icon-bar"></span>\
      </button>\
      <a class="navbar-brand" href="https://www.OS-Q.com" title="OS-Q"></a>\
    </div>\
    <nav role="navigation" class="collapse navbar-collapse" id="navBarCollapse">\
      <div>\
        <ul class="nav navbar-nav">\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://www.SoC.xin" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-microchip fa-lg"></i>芯芸<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://www.soc.xin"><i class="fa fa-home"></i>探索芯世界</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://docs.soc.xin"><i class="fa fa-graduation-cap"></i>Docs</a></li>\
              <li role="menuitem"><a href="https://www.github.com/socxin"><i class="fa fa-github"></i>GitHub</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://www.qitas.cn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user fa-lg"></i>QITAS<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://docs.qitas.cn"><i class="fa fa-graduation-cap"></i>Docs</a></li>\
              <li role="menuitem"><a href="https://www.github.com/qitas"><i class="fa fa-github"></i>GitHub</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://www.stopi.cn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-cogs fa-lg"></i>石头派<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://www.stopi.cn"><i class="fa fa-home"></i>原型开发平台</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://www.github.com/sto-pi"><i class="fa fa-github"></i>STOPi</a></li>\
              <li role="menuitem"><a href="https://shop562718807.taobao.com/"><i class="fa fa-shopping-cart"></i>STOPi</a></li>\
            </ul>\
          </li>\
          <li class="dropdown">\
            <a role="button" data-target="#" href="https://stop.stops.top" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-lightbulb-o fa-lg"></i>石头铺<span class="caret"></span>\
            </a>\
            <ul class="dropdown-menu" role="menu">\
              <li role="menuitem"><a href="https://stop.stops.top"><i class="fa fa-home"></i>为生产更好的工厂</a></li>\
              <li role="separator" class="divider"></li>\
              <li role="menuitem"><a href="https://www.github.com/stopstopstop"><i class="fa fa-github"></i>GitHub</a></li>\
            </ul>\
          </li>\
        </ul>\
        <ul class="nav navbar-nav navbar-right">\
          <li class="active"><a href="https://docs.OS-Q.com"><i class="fa fa-book fa-lg"></i>Docs</a></li>\
          <li><a href="https://www.github.com/OS-Q"><i class="fa fa-github fa-lg"></i>GitHub</a></li>\
          <li class="nav-pio-tech"><a href="https://www.OS-Q.com"><i class="fa fa-heart-o fa-lg"></i>OS-Q</a></li>\
        </ul>\
      </div>\
    </nav>\
  </div>\
</div>';

  (function() {
    if (window.location.href.indexOf('http://') === 0) {
      location.href = 'https:' + window.location.href.substring(5);
    }

    var topBanner = $('.top-banner');
    var navBar = document.createElement('header');
    navBar.className = 'navbar navbar-inverse';
    navBar.innerHTML = navBarHTML;
    if (topBanner.length) {
      $(navBar).insertAfter(topBanner)
    } else {
      document.body.insertBefore(navBar, document.body.firstChild);
    }

    if ($(window).width() <= 768) {
      return;
    }

    var topOffset = 50;
    if (topBanner.length) {
      topOffset += $('.navbar').offset().top;
    }
    $('.wy-nav-side').css('top', topOffset + 'px');
    $(window).scroll(function() {
      $('.wy-nav-side').css('top', $(window).scrollTop() > topOffset ? 0 : topOffset + 'px');
    });
  })();
</script>


</footer>
        </div>
      </div>

    </section>

  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book">源圈:开源项目集锦</span>
    v0.2
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>By Qtias</dt>
      <img src="../_static/images/weixin.jpg">
        <dd><a href="https://github.com/OS-Q/Docs/blob/master/source/framework/espidf_4.0.rst"> View</a></dd>
        <dd><a href="https://github.com/OS-Q/Docs/edit/master/source/framework/espidf_4.0.rst"> Edit</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1768265-7', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>